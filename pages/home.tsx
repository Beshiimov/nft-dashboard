import {FC} from "react";
import Head from 'next/head'
import {
  Layout,
  Main,
  ExchangeAndWallet
} from '../components/styles/sharedstyles'

import {wrapper} from "../redux/store";
import {fetchCoinsChart, fetchCurrencies} from "../redux/slices/currencies/slice";
import Currencies from "../components/home/Currencies";
import Exchange from "../components/home/Exchange";
import Nav from "../components/layouts/Nav";
import Wallet from '../components/home/Wallet';
import NFTs from '../components/home/NFTs';


const Home:FC = ():JSX.Element => {

  return (
    <>
      <Head>
        <title>NFT Dashboard</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <Nav/>
        <Main>
          <Currencies />
          <NFTs />
        </Main>
        <ExchangeAndWallet>
          <Wallet />
          <Exchange />
        </ExchangeAndWallet>
      </Layout>
    </>
  )
}

export const getStaticProps = wrapper.getStaticProps(store => async () => {
  await store.dispatch(fetchCurrencies())
  await store.dispatch(fetchCoinsChart())
  return {props: {}}
});

export default Home